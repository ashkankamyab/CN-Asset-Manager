replicaCount: 1

image:
  backend:
    repository: ghcr.io/ashkankamyab/cn-asset-manager/backend
    tag: latest
  frontend:
    repository: ghcr.io/ashkankamyab/cn-asset-manager/frontend
    tag: latest
  pullPolicy: IfNotPresent

# --- App settings ---
app:
  secretKey: "change-me"
  debug: "False"
  allowedHosts: "*"
  csrfTrustedOrigins: ""
  corsAllowedOrigins: ""

# --- Database ---
database:
  type: postgres          # postgres | mysql | sqlite
  internal: true          # true = deploy Bitnami subchart, false = use external
  external:
    host: ""
    port: ""
    name: "cn_asset_manager"
    user: "cn_user"
    password: ""
  sqlite:
    storageClass: ""      # "" = default StorageClass
    size: 1Gi

# --- Redis ---
redis:
  internal: true          # true = deploy Bitnami subchart, false = use external
  external:
    url: ""               # e.g. redis://host:6379/0
  # Bitnami subchart overrides (only used when redis.internal=true)
  enabled: true           # must match redis.internal (Helm subchart condition)
  architecture: standalone
  auth:
    enabled: false
  master:
    persistence:
      enabled: true
      storageClass: ""
      size: 2Gi

# --- Ingress ---
ingress:
  enabled: true
  className: nginx
  host: cn-asset-manager.local
  tls: []
  annotations: {}

# --- Service ---
service:
  type: ClusterIP
  port: 80

# --- Resources ---
resources:
  backend: {}
  frontend: {}
  celery: {}
  celeryBeat: {}

# --- Bitnami subchart overrides ---
postgresql:
  enabled: true           # must match database.internal when type=postgres
  auth:
    database: cn_asset_manager
    username: cn_user
    password: cn_pass
  primary:
    persistence:
      enabled: true
      storageClass: ""    # "" = default StorageClass, or e.g. "gp3", "standard"
      size: 8Gi

mysql:
  enabled: false          # controlled by template logic
  auth:
    database: cn_asset_manager
    username: cn_user
    password: cn_pass
  primary:
    persistence:
      enabled: true
      storageClass: ""
      size: 8Gi
